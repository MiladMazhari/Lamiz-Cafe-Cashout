<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lamiz Cash Out</title>
    <style id="colorTheme">
        label {
            display: inline-block;
            width: 150px;
            text-align: justify;
            margin-right: 15px;
        }
        input[type="text"] {
            width: 200px;
            margin-bottom: 10px;
        }
        /* Default color theme */
        body {
            background-color: #000;
            color: #000;
        }
    </style>
</head>
<body>

<h1>Cash-Out</h1>

<form>
    <label for="numOnlinePays">Start_Over(Number of Panels):</label>
    <input type="text" id="numOnlinePays" name="numOnlinePays" oninput="formatNumber(this)"><br>

    <script>
        // Function to prompt the user for a number
        function getNumber(promptMessage) {
            return parseFloat(prompt(promptMessage));
        }

        // Function to prompt the user for panels
        function getPanels() {
            let numberOfPanels = getNumber('Do you have any Panel? Enter the number:');
            let panelNumbers = [];

            if (numberOfPanels > 0) {
                for (let i = 1; i <= numberOfPanels; i++) {
                    let panel = getNumber('Enter Panel ' + i + ':');
                    panelNumbers.push(panel);
                }
            }

            return panelNumbers;
        }

        // Function to format the number with thousands separators
        function formatNumber(input) {
            let value = input.value.replace(/,/g, ''); // Remove existing commas
            let formattedValue = parseFloat(value).toLocaleString();
            input.value = formattedValue;
        }

        // Initialize variables
        let panelNumbers = getPanels();

        // Prompt user for Snapp, Cash, Pos, and Total sales
        let snappSales = getNumber('Snapp:');
        let cashSales = getNumber('Cash:');
        let posSales = getNumber('POS:');
        let totalSales = getNumber('Total Sales:');

        // Calculate sum of panels
        let sumOfPanels = panelNumbers.reduce((acc, val) => acc + val, 0);

        // Calculate result
        let finalResult = sumOfPanels + snappSales + cashSales + posSales - totalSales;

        // Display results
        document.write('<h2>Results:</h2>');
        // Omitting the line for displaying the number of panels
        document.write('<p>Sum of Panels: ' + sumOfPanels.toLocaleString() + '</p>');
        document.write('<p>Snapp Sales: ' + snappSales.toLocaleString() + '</p>');
        document.write('<p>Cash Sales: ' + cashSales.toLocaleString() + '</p>');
        document.write('<p>POS Sales: ' + posSales.toLocaleString() + '</p>');
        document.write('<p>Total Sales: ' + totalSales.toLocaleString() + '</p>');
        document.write('<p>Final Result: ' + finalResult.toLocaleString() + '</p>');

        if (finalResult < 200000 && finalResult > -200000) {
            alert(" کشوت (تقریباً) درسته. خسته هم نباشی :))");
        } else {
            alert(" مازاد یا کسری زیادی داری؛ سعی کن برطرفش کنی. این موارد رو چک  کن: فیشی که نیاز به اصلاحیه داشته باشه یا پولهای نقد رو دوباره با دقت بشمر یا وضعیت فیشهای پرداخت شده با پنل رو بررسی کن. موفق باشی")
        }

          function getColorTheme() {
        let theme = prompt('Which color theme do you prefer: Pink or Black? :)))').toLowerCase();
        if (theme === 'pink') {
            document.getElementById('colorTheme').innerHTML = `
                body {
                    background-color: #d236e3;
                    color: #000;
                }
            `;
        } else if (theme === 'black') {
            document.getElementById('colorTheme').innerHTML = `
                body {
                    background-color: #000;
                    color: #fff;
                }
            `;
        } else {
            alert('Invalid choice. Using the default color theme.');
        }
    }

    // Call the function to set the initial color theme
    getColorTheme();
</script>
    </script>
</form>

</body>
</html>
